{% extends "base.html" %}

{% block content %}
<h2>{{ item.title }}</h2>
<p>{{ item.description }}</p>

{% if item.category %}
    <p>Category: {{ item.category.name }}</p>
{% endif %}

<hr>

<h3>Current Bids</h3>
<ul>
{% if bids %}
    {% for bid in bids %}
        <li>${{ bid.bid_amount }} by User ID {{ bid.user_id }}</li>
    {% endfor %}
{% else %}
    <p>No bids yet.</p>
{% endif %}
</ul>

<hr>

<h3>Place a Bid</h3>
<form method="POST">
    Bid Amount: <input type="number" step="0.01" name="bid_amount" required><br>
    Max Auto-Bid (optional): <input type="number" step="0.01" name="auto_max"><br>
    <button type="submit">Place Bid</button>
</form>

<hr>

{% if session.get('user_id') == item.seller_id %}
    <form action="{{ url_for('delete_auction', auction_id=auction.id) }}" method="POST" onsubmit="return confirm('Are you sure you want to delete this auction?');">
        <button type="submit" style="background-color:red; color:white;">Delete Auction</button>
    </form>
{% endif %}

{% endblock %}